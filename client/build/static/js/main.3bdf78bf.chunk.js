(this.webpackJsonpburn_web_app=this.webpackJsonpburn_web_app||[]).push([[0],{77:function(e,t,a){e.exports=a(89)},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),l=a(9),c=a(31),u=a(63),s=a(15);var m={id:localStorage.getItem("id"),login:localStorage.getItem("login"),display_name:localStorage.getItem("display_name"),profile_image_url:localStorage.getItem("profile_image_url"),isLoading:localStorage.getItem("isLoading"),isAuth:localStorage.getItem("isAuth")},d={id:m.id,login:m.login,display_name:m.display_name,profile_image_url:m.profile_image_url,isLoading:"true"===m.isLoading,isAuth:"true"===m.isAuth},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return localStorage.setItem("isLoading","true"),Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case"LOGIN_USER":return localStorage.setItem("id","".concat(t.userId)),localStorage.setItem("login","".concat(t.userLogin)),localStorage.setItem("display_name","".concat(t.userDisplayName)),localStorage.setItem("profile_image_url","".concat(t.userProfileImg)),localStorage.setItem("isLoading","false"),localStorage.setItem("isAuth","true"),Object(s.a)(Object(s.a)({},e),{},{id:t.userId,login:t.userLogin,display_name:t.userDisplayName,profile_image_url:t.userProfileImg,isAuth:!0,isLoading:!1});case"LOGOUT":return localStorage.clear(),Object(s.a)(Object(s.a)({},e),{},{isAuth:!1});default:return e}};var f={video:null,preview:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_VIDEOS":return Object(s.a)(Object(s.a)({},e),{},{video:Object(s.a)(Object(s.a)({},e.video),{},{data:t.videoData})});case"PREVIEW_VIDEO":return Object(s.a)(Object(s.a)({},e),{},{preview:t.data});default:return e}},h=a(49),E=a(10),y=a(46),b=a(117),v=a(125),w=a(126),x=a(48),O=a(127),j=a(65),I=a.n(j),_=a(131),k=a(130),D=a(120),S=a(91),L=a(118),A=Object(b.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(3,8,4)}}}));function C(e){var t=A(),a=r.a.useState(!1),n=Object(y.a)(a,2),o=n[0],i=n[1],c=Object(l.c)((function(e){return e.user}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{color:"inherit",onClick:function(){i(!0)}},e.title),c.isAuth?r.a.createElement("div",null):r.a.createElement(k.a,{className:t.modal,open:o,onClose:function(){i(!1)},closeAfterTransition:!0,BackdropComponent:D.a,BackdropProps:{timeout:500}},r.a.createElement(S.a,{in:o},r.a.createElement("div",{className:t.paper},e.content))))}var T=a(132),N=a(121),B=a(124),P=a(134),G=a(122),R=a(123),V=a(53),z=a.n(V),W=a(51),H=a.n(W),q=a(52),J=a.n(q),M=a(64),U=a.n(M),Y=Object(b.a)({list:{width:250}});function F(e){var t=Y(),a=Object(l.b)(),n=Object(l.c)((function(e){return e.user})),o=window.location.href.includes("localhost")?"http://localhost:3000":"3.14.71.212";return r.a.createElement(T.a,{anchor:"left",open:e.drawerOpen,onClose:e.toggleDrawer(!1)},r.a.createElement("div",{className:t.list,role:"presentation",onClick:e.toggleDrawer(!1),onKeyDown:e.toggleDrawer(!1)},n.isAuth?r.a.createElement(N.a,null,["Home"].map((function(e,t){return r.a.createElement(P.a,{button:!0,component:"a",key:e,href:0===t?"/home":1===t?"/video-manager":"/faq"},r.a.createElement(G.a,null,t%2===0?r.a.createElement(H.a,null):r.a.createElement(J.a,null)),r.a.createElement(R.a,{primary:e}))}))):r.a.createElement(N.a,null,["Home","How It Works"].map((function(e,t){return r.a.createElement(P.a,{button:!0,component:"a",key:e,href:0===t?"/":"/how-it-works"},r.a.createElement(G.a,null,0===t?r.a.createElement(H.a,null):1===t?r.a.createElement(U.a,null):r.a.createElement(J.a,null)),r.a.createElement(R.a,{primary:e}))}))),r.a.createElement(B.a,null),n.isAuth?r.a.createElement(N.a,null,["Logout"].map((function(e){return r.a.createElement(P.a,{button:!0,key:e,onClick:function(){a({type:"LOGOUT"})}},r.a.createElement(G.a,null,r.a.createElement(z.a,null)),r.a.createElement(R.a,{primary:e}))}))):r.a.createElement(N.a,null,["Login"].map((function(e){return r.a.createElement(P.a,{button:!0,key:e,component:"a",href:"https://id.twitch.tv/oauth2/authorize?client_id=rggrr0wfq2zb6m42yvki7hzi71x7jn&redirect_uri=".concat(o,"/register/&response_type=code&force_verify=true"),onClick:function(){a({type:"LOADING"})}},r.a.createElement(G.a,null,r.a.createElement(z.a,null)),r.a.createElement(R.a,{primary:e}))})))))}var K=a(129);function Q(){var e=Object(l.b)(),t=window.location.href.includes("localhost")?"http://localhost:3000":"3.14.71.212";return r.a.createElement(K.a,{display:"flex",flexDirection:"column",alignItems:"center",width:300},r.a.createElement("h3",{style:{marginBottom:15,marginTop:10}},"Login With Twitch"),r.a.createElement("p",{style:{margin:0,marginBottom:20,textAlign:"center"}},"We use the Twitch API to be able to fetch all of your videos and profile information. By logging in, you are only granting us access to your public Twitch account information, and nothing else."),r.a.createElement(L.a,{variant:"contained",color:"secondary",href:"https://id.twitch.tv/oauth2/authorize?client_id=rggrr0wfq2zb6m42yvki7hzi71x7jn&redirect_uri=".concat(t,"/register/&response_type=code&force_verify=true"),onClick:function(){e({type:"LOADING"})}},"Login"))}var X=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),Z=function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),o=a[0],i=a[1],c=X(),u=Object(l.c)((function(e){return e.user})),s=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&i(e)}};return r.a.createElement("div",{className:c.root},r.a.createElement(v.a,{position:"static"},r.a.createElement(w.a,null,r.a.createElement(O.a,{edge:"start",className:c.menuButton,color:"inherit","aria-label":"menu",onClick:s(!o)},r.a.createElement(I.a,null)),r.a.createElement(x.a,{variant:"h6",className:c.title},e.title),u.isAuth?r.a.createElement(C,{title:r.a.createElement(_.a,{alt:"".concat(u.display_name),src:"".concat(u.profile_image_url)}),content:r.a.createElement(Q,null)}):r.a.createElement(C,{title:"Login with Twitch",content:r.a.createElement(Q,null)})),r.a.createElement(F,{drawerOpen:o,toggleDrawer:s})))},$=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",border:"3px solid #EEEEEE",borderRadius:10,width:"100%",height:110,boxSizing:"border-box",marginTop:10},img:{}}}));function ee(e){var t=$(),a=Object(l.b)();return r.a.createElement("div",{className:t.root},r.a.createElement(K.a,{display:"flex",justifyContent:"center",alignItems:"center",width:160,height:90,boxSizing:"border-box",border:"1px solid black"},r.a.createElement("img",{alt:"video thumbnail",src:"".concat(e.videoData.thumbnail_url.replace("%{width}x%{height}","160x90")),className:t.img})),r.a.createElement(K.a,{display:"flex",flexDirection:"column"},r.a.createElement(L.a,{variant:"contained",color:"secondary",style:{marginBottom:7},onClick:function(){return a({type:"PREVIEW_VIDEO",data:e.videoData})}},"Preview"),r.a.createElement(L.a,{variant:"contained",color:"primary"},"Add")))}function te(e){return Object(n.useEffect)((function(){var t=document.createElement("script");return t.type="text/javascript",t.src="https://player.twitch.tv/js/embed/v1.js",t.async=!0,document.body.appendChild(t),t.onload=function(){var t={width:"800",height:"450",video:e.id,parent:["localhost"]},a=new window.Twitch.Player("player-id",t);a.addEventListener(window.Twitch.Player.READY,(function(){console.log("Ready!"),a.pause()})),a.addEventListener(window.Twitch.Player.PLAYING,(function(){console.log("Playing!")}))},function(){document.querySelector("#player-id iframe").remove(),document.body.removeChild(t),console.log("Cleanup"),console.log(e.id)}}),[e.id]),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:450,overflow:"hidden"}},r.a.createElement("div",{id:"player-id"}))}var ae=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"1150px",height:"700px",background:"#BBBBBB",borderRadius:"6px",boxSizing:"border-box",padding:"15px 0"}}}));function ne(){var e=ae(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.user})),o=Object(l.c)((function(e){return e.video}));return Object(n.useEffect)((function(){var e;t((e=a.id,function(t){var a=window.location.href.includes("localhost")?"http://localhost":"3.14.71.212";return console.log(a),fetch("".concat(a,":8080/streamer/new-video"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred on attempt to backend.",e)})).then((function(e){t({type:"GET_VIDEOS",videoData:e.data})}))}))}),[t,a.id]),r.a.createElement("div",{className:e.root},r.a.createElement(K.a,{display:"flex",flexDirection:"column",border:"3px solid #000000",width:"26%",borderRadius:10,boxSizing:"border-box",padding:"0px 5px",overflow:"auto"},o.video?o.video.data.map((function(e,t){return r.a.createElement(ee,{key:Math.random(),videoData:e})})):null),r.a.createElement(K.a,{display:"flex",flexDirection:"column",width:"fit-content",height:"100%"},r.a.createElement(K.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"800px",height:"445px",borderRadius:5,border:"4px solid #EEEEEE",overflow:"hidden"},o.preview?r.a.createElement(te,{id:o.preview.id}):"Click a Video to Preview!"),o.preview?r.a.createElement(K.a,{display:"flex",flexDirection:"column",justifyContent:"space-evenly",paddingLeft:2,height:100,marginTop:1},r.a.createElement("h3",{style:{margin:0,color:"#3f51b5"}},o.preview.title),r.a.createElement("h4",{style:{margin:0}},o.preview.duration),r.a.createElement("p",{style:{margin:0}},o.preview.description)):null))}var re=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column"}}}));function oe(){var e=re();return r.a.createElement("div",{className:e.root},r.a.createElement(Z,{title:"Video Manager"}),r.a.createElement(K.a,{display:"flex",justifyContent:"center",width:"100%",style:{marginTop:15,marginBottom:10}}),r.a.createElement(K.a,{display:"flex",width:"100%",justifyContent:"center"},r.a.createElement(ne,null)))}var ie=function(){return r.a.createElement(oe,null)},le=a(128),ce=Object(b.a)((function(e){return{root:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}}}));function ue(){var e=ce(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.user.isAuth}));Object(n.useEffect)((function(){var e,a=window.location.href;if(a.includes("code")){var n=a.indexOf("code"),r=a.substring(n+5),o=r.indexOf("&"),i=r.substring(0,o);t((e=i,function(t){var a=window.location.href.includes("localhost")?"http://localhost":"3.14.71.212";return fetch("".concat(a,":8080/auth/auth"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred on attempt to backend.",e)})).then((function(e){var a,n,r,o;t((a=e.id,n=e.login,r=e.display_name,o=e.profile_image_url,{type:"LOGIN_USER",userId:a,userLogin:n,userDisplayName:r,userProfileImg:o}))}))}))}}),[t]);var o=null;return a&&(o=r.a.createElement(E.a,{to:"/home"})),r.a.createElement("div",{className:e.root},o,r.a.createElement(K.a,{display:"flex",flexDirection:"column",alignItems:"center"},r.a.createElement("h3",{style:{margin:0,marginBottom:50}},"Hang tight, we're redirecting you..."),r.a.createElement(le.a,{color:"secondary"})))}var se=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column"}}}));function me(){var e=se();return r.a.createElement("div",{className:e.root},r.a.createElement(Z,{title:"Burn TV"}),r.a.createElement(K.a,{display:"flex",flexDirection:"column",alignItems:"center",marginTop:2},r.a.createElement("h1",null,"Welcome to Burn TV"),r.a.createElement("p",{style:{width:"50%",textAlign:"center",marginBottom:20}},"This is a demo application made by Decker Strom, for Twitch streamers to watch all of their favorite clips! Please sign-in to access the Video Manager screen and begin watching your clips!"),r.a.createElement(K.a,{display:"flex"},r.a.createElement(L.a,{variant:"contained",color:"secondary",href:"/how-it-works"},"How It Works"),r.a.createElement(L.a,{variant:"contained",color:"primary",style:{marginLeft:15,padding:"2px 5px"}},r.a.createElement(C,{title:"Login with Twitch",content:r.a.createElement(Q,null)})))))}var de=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column"}}}));function pe(){var e=de();return r.a.createElement("div",{className:e.root},r.a.createElement(Z,{title:"How It Works"}))}function fe(){var e=Object(l.c)((function(e){return e.user}));return r.a.createElement(h.a,null,r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/",exact:!0},e.isAuth?r.a.createElement(E.a,{to:"/home"}):r.a.createElement(me,null)),r.a.createElement(E.b,{path:"/how-it-works",exact:!0},e.isAuth?r.a.createElement(E.a,{to:"/"}):r.a.createElement(pe,null)),r.a.createElement(E.b,{path:"/home",exact:!0},e.isAuth?r.a.createElement(ie,null):r.a.createElement(E.a,{to:"/"})),r.a.createElement(E.b,{path:"/video-manager",exact:!0},e.isAuth?r.a.createElement(oe,null):r.a.createElement(E.a,{to:"/"})),r.a.createElement(E.b,{path:"/register",exact:!0},e.isLoading?r.a.createElement(ue,null):r.a.createElement(E.a,{to:"/"}))))}var ge=Object(c.c)({user:p,video:g}),he=Object(c.d)(ge,Object(c.a)(u.a));var Ee=function(){return r.a.createElement(l.a,{store:he},r.a.createElement(fe,null))};a(88);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.3bdf78bf.chunk.js.map